<!-- questions/templates/questions/question_list.html -->
{% load static %}
<head>
  <title>Index Page</title>
  <!-- Add these links to your <head> section -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="{% static 'questions/js/custom.js' %}"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>



</head>
{% block content %}
  <div class="container">
    <a href="{% url 'create_question' %}" class="btn btn-secondary mt-3">Ask a Question?</a>
    <div class="row">
      <h6 class="mt-4">Filter by Topics:</h6>
      <form method="get" action="{% url 'question_list' %}">
        <div class="form-group">
            
            <select id="topics" name="topics" class="form-control" multiple>
              {% for topic in all_topics %}
                  <option value="{{ topic.id }}" {% if topic.id in selected_topics %}selected{% endif %}>{{ topic.title }}</option>
              {% endfor %}
          </select>
        </div>
        <button type="submit" class="btn btn-outline-info mt-3">Apply Filter</button>
      </form>
    </div>
    <h2>List of Questions</h2>
    <ul class="list-group mt-4">
      {% for question in questions %}
        {% include 'questions/_question_answers.html' with question=question %}</br>
      {% endfor %}
    </ul>
  </div>
  {% include 'commons/_paginator.html' with list=questions %}
{% endblock %}

